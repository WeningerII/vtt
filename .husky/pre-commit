# Run lint-staged for code quality checks
npx lint-staged

# Run type checking on staged TypeScript files
echo "🔍 Running TypeScript checks..."
npx tsc --noEmit

# Run tests related to staged files
echo "🧪 Running tests for changed files..."
npx jest --bail --findRelatedTests --passWithNoTests $(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx|js|jsx)$' | tr '\n' ' ')

echo "✅ Pre-commit checks completed successfully!"
