# Production Environment Template
# Copy to .env.production.local and fill with real values.
# Used by docker-compose.prod.yml and app services.

# --- Database ---
# Either provide a full DATABASE_URL or individual parts below.
# DATABASE_URL="postgresql://vtt_user:CHANGEME@db-host:5432/vtt_prod?schema=public"
DATABASE_NAME=vtt_prod
DATABASE_USER=vtt_user
DATABASE_PASSWORD=CHANGEME
DATABASE_PORT=5432

# --- Redis ---
REDIS_PASSWORD=CHANGEME
REDIS_PORT=6379

# --- Server (apps/server) ---
NODE_ENV=production
PORT=8080
# Comma-separated list of allowed origins (client URL(s))
CORS_ORIGIN=https://vtt.example.com
# Convenience alias for CORS_ORIGIN and OAuth redirects
CLIENT_URL=https://vtt.example.com
# JWT and app secrets
JWT_SECRET=CHANGEME_super_secret_jwt
ENCRYPTION_KEY=CHANGEME_32+chars
SESSION_SECRET=CHANGEME_session_secret
# Logging and rate limiting
LOG_LEVEL=info
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=900000
# Uploads
UPLOAD_MAX_SIZE=50mb
# Observability
SENTRY_DSN=

# --- Client (apps/client) ---
# Note: client image is pre-built. These are informational unless used at build time.
VITE_API_URL=https://api.example.com
VITE_WS_URL=wss://api.example.com
CLIENT_SENTRY_DSN=

# --- OAuth (optional) ---
SERVER_URL=https://api.example.com
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_CALLBACK_URL=${SERVER_URL}/api/v1/auth/discord/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=${SERVER_URL}/api/v1/auth/google/callback

# --- Grafana (optional) ---
GRAFANA_PASSWORD=CHANGEME
GRAFANA_DOMAIN=monitoring.example.com

# --- Optional S3/MinIO (if enabled) ---
# MINIO_ENDPOINT=https://minio.example.com
# MINIO_ROOT_USER=
# MINIO_ROOT_PASSWORD=
# S3_BUCKET=
# S3_REGION=
# CDN_URL=
