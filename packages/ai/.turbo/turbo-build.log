

> @vtt/ai@0.0.0 build /home/weningerii/vtt/packages/ai
> tsc -b

[96msrc/AIContentCache.ts[0m:[93m2[0m:[93m43[0m - [91merror[0m[90m TS6059: [0mFile '/home/weningerii/vtt/packages/performance/src/CacheManager.ts' is not under 'rootDir' '/home/weningerii/vtt/packages/ai/src'. 'rootDir' is expected to contain all source files.
  The file is in the program because:
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/AIContentCache.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/VisionAIIntegration.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/UnifiedAISystem.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/examples/integrated-ai-usage.ts'

[7m2[0m import { CacheManager, CacheConfig } from '@vtt/performance/CacheManager';
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  [96msrc/VisionAIIntegration.ts[0m:[93m4[0m:[93m30[0m
    [7m4[0m import { CacheManager } from '@vtt/performance/CacheManager';
    [7m [0m [96m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/UnifiedAISystem.ts[0m:[93m9[0m:[93m54[0m
    [7m9[0m import { CacheManager, _DEFAULT_CACHE_CONFIGS } from '@vtt/performance/CacheManager';
    [7m [0m [96m                                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/examples/integrated-ai-usage.ts[0m:[93m14[0m:[93m54[0m
    [7m14[0m import { CacheManager, _DEFAULT_CACHE_CONFIGS } from '@vtt/performance/CacheManager';
    [7m  [0m [96m                                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.

[96msrc/AIContentCache.ts[0m:[93m2[0m:[93m43[0m - [91merror[0m[90m TS6307: [0mFile '/home/weningerii/vtt/packages/performance/src/CacheManager.ts' is not listed within the file list of project '/home/weningerii/vtt/packages/ai/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  The file is in the program because:
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/AIContentCache.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/VisionAIIntegration.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/UnifiedAISystem.ts'
    Imported via '@vtt/performance/CacheManager' from file '/home/weningerii/vtt/packages/ai/src/examples/integrated-ai-usage.ts'

[7m2[0m import { CacheManager, CacheConfig } from '@vtt/performance/CacheManager';
[7m [0m [91m                                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  [96msrc/VisionAIIntegration.ts[0m:[93m4[0m:[93m30[0m
    [7m4[0m import { CacheManager } from '@vtt/performance/CacheManager';
    [7m [0m [96m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/UnifiedAISystem.ts[0m:[93m9[0m:[93m54[0m
    [7m9[0m import { CacheManager, _DEFAULT_CACHE_CONFIGS } from '@vtt/performance/CacheManager';
    [7m [0m [96m                                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/examples/integrated-ai-usage.ts[0m:[93m14[0m:[93m54[0m
    [7m14[0m import { CacheManager, _DEFAULT_CACHE_CONFIGS } from '@vtt/performance/CacheManager';
    [7m  [0m [96m                                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.

[96msrc/Agent.ts[0m:[93m551[0m:[93m47[0m - [91merror[0m[90m TS2552: [0mCannot find name 'sum'. Did you mean '_sum'?

[7m551[0m         activeAgents.reduce((_sum, _agent) => sum + agent.getStats().averageUpdateTime, 0) /
[7m   [0m [91m                                              ~~~[0m

  [96msrc/Agent.ts[0m:[93m551[0m:[93m30[0m
    [7m551[0m         activeAgents.reduce((_sum, _agent) => sum + agent.getStats().averageUpdateTime, 0) /
    [7m   [0m [96m                             ~~~~[0m
    '_sum' is declared here.

[96msrc/Agent.ts[0m:[93m551[0m:[93m53[0m - [91merror[0m[90m TS2552: [0mCannot find name 'agent'. Did you mean '_agent'?

[7m551[0m         activeAgents.reduce((_sum, _agent) => sum + agent.getStats().averageUpdateTime, 0) /
[7m   [0m [91m                                                    ~~~~~[0m

  [96msrc/Agent.ts[0m:[93m551[0m:[93m36[0m
    [7m551[0m         activeAgents.reduce((_sum, _agent) => sum + agent.getStats().averageUpdateTime, 0) /
    [7m   [0m [96m                                   ~~~~~~[0m
    '_agent' is declared here.

[96msrc/Agent.ts[0m:[93m574[0m:[93m5[0m - [91merror[0m[90m TS18004: [0mNo value exists in scope for the shorthand property 'id'. Either declare one or provide an initializer.

[7m574[0m     id,
[7m   [0m [91m    ~~[0m

[96msrc/Agent.ts[0m:[93m575[0m:[93m20[0m - [91merror[0m[90m TS2304: [0mCannot find name 'id'.

[7m575[0m     name: `Agent_${id}`,
[7m   [0m [91m                   ~~[0m

[96msrc/Agent.ts[0m:[93m589[0m:[93m5[0m - [91merror[0m[90m TS18004: [0mNo value exists in scope for the shorthand property 'id'. Either declare one or provide an initializer.

[7m589[0m     id,
[7m   [0m [91m    ~~[0m

[96msrc/Agent.ts[0m:[93m590[0m:[93m24[0m - [91merror[0m[90m TS2304: [0mCannot find name 'id'.

[7m590[0m     name: `FastAgent_${id}`,
[7m   [0m [91m                       ~~[0m

[96msrc/BehaviorTree.ts[0m:[93m273[0m:[93m20[0m - [91merror[0m[90m TS18048: [0m'child' is possibly 'undefined'.

[7m273[0m     const status = child.execute();
[7m   [0m [91m                   ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m287[0m:[93m7[0m - [91merror[0m[90m TS18048: [0m'child' is possibly 'undefined'.

[7m287[0m       child.reset();
[7m   [0m [91m      ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m294[0m:[93m3[0m - [91merror[0m[90m TS4114: [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BehaviorNode'.

[7m294[0m   reset(): void {
[7m   [0m [91m  ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m315[0m:[93m20[0m - [91merror[0m[90m TS18048: [0m'child' is possibly 'undefined'.

[7m315[0m     const status = child.execute();
[7m   [0m [91m                   ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m329[0m:[93m7[0m - [91merror[0m[90m TS18048: [0m'child' is possibly 'undefined'.

[7m329[0m       child.reset();
[7m   [0m [91m      ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m336[0m:[93m3[0m - [91merror[0m[90m TS4114: [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BehaviorNode'.

[7m336[0m   reset(): void {
[7m   [0m [91m  ~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m351[0m:[93m13[0m - [91merror[0m[90m TS4114: [0mThis member must have an 'override' modifier because it overrides a member in the base class 'BehaviorNode'.

[7m351[0m   protected onEnter(): void {
[7m   [0m [91m            ~~~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m371[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'NodeStatus.SUCCESS | NodeStatus.FAILURE | NodeStatus.INVALID | undefined' is not assignable to type 'NodeStatus'.
  Type 'undefined' is not assignable to type 'NodeStatus'.

[7m371[0m     return status;
[7m   [0m [91m    ~~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m726[0m:[93m36[0m - [91merror[0m[90m TS2322: [0mType 'BehaviorNode | undefined' is not assignable to type 'BehaviorNode | null'.
  Type 'undefined' is not assignable to type 'BehaviorNode | null'.

[7m726[0m     return this.stack.length > 0 ? this.stack[0] : null;
[7m   [0m [91m                                   ~~~~~~~~~~~~~[0m

[96msrc/BehaviorTree.ts[0m:[93m731[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m731[0m       this.stack[this.stack.length - 1].addChild(node);
[7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m12[0m:[93m44[0m - [91merror[0m[90m TS2304: [0mCannot find name '_any'.

[7m12[0m   generateContent: (params: Record<string, _any>) => Promise<GeneratedContent>;
[7m  [0m [91m                                           ~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m368[0m:[93m7[0m - [91merror[0m[90m TS2561: [0mObject literal may only specify known properties, but '_generateContent' does not exist in type 'GenerationTemplate'. Did you mean to write 'generateContent'?

[7m368[0m       _generateContent: async (params) => {
[7m   [0m [91m      ~~~~~~~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m532[0m:[93m16[0m - [91merror[0m[90m TS18048: [0m'selectedCreature' is possibly 'undefined'.

[7m532[0m       name: `${selectedCreature.charAt(0).toUpperCase() + selectedCreature.slice(1)} Encounter`,
[7m   [0m [91m               ~~~~~~~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m532[0m:[93m59[0m - [91merror[0m[90m TS18048: [0m'selectedCreature' is possibly 'undefined'.

[7m532[0m       name: `${selectedCreature.charAt(0).toUpperCase() + selectedCreature.slice(1)} Encounter`,
[7m   [0m [91m                                                          ~~~~~~~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m537[0m:[93m11[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m537[0m           name: selectedCreature,
[7m   [0m [91m          ~~~~[0m

  [96msrc/ContentGenerator.ts[0m:[93m48[0m:[93m5[0m
    [7m48[0m     name: string;
    [7m  [0m [96m    ~~~~[0m
    The expected type comes from property 'name' which is declared here on type '{ name: string; count: number; level: number; type: string; stats: Record<string, number>; }'

[96msrc/ContentGenerator.ts[0m:[93m684[0m:[93m5[0m - [91merror[0m[90m TS2375: [0mType '{ name: string; type: string; size: any; description: string; features: { name: string; description: string; interactive: boolean; }[]; inhabitants: { name: string; role: string; disposition: string; }[]; connections: { ...; }[]; atmosphere: { ...; }; secrets: string[] | undefined; }' is not assignable to type 'LocationData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'secrets' are incompatible.
    Type 'string[] | undefined' is not assignable to type 'string[]'.
      Type 'undefined' is not assignable to type 'string[]'.

[7m684[0m     return {
[7m   [0m [91m    ~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m807[0m:[93m17[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m807[0m       loot.push(`${type} (level ${level})`);
[7m   [0m [91m                ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m814[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'T | undefined' is not assignable to type 'T'.
  'T' could be instantiated with an arbitrary type which could be unrelated to 'T | undefined'.

[7m814[0m     return array[Math.floor(Math.random() * array.length)];
[7m   [0m [91m    ~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m872[0m:[93m34[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m872[0m       this.chains.get(key)!.push(next);
[7m   [0m [91m                                 ~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m884[0m:[93m20[0m - [91merror[0m[90m TS18048: [0m'currentKey' is possibly 'undefined'.

[7m884[0m     const result = currentKey.split(" ");
[7m   [0m [91m                   ~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m887[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m887[0m       const possibleNext = this.chains.get(currentKey);
[7m   [0m [91m                                           ~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m891[0m:[93m19[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m891[0m       result.push(next);
[7m   [0m [91m                  ~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m894[0m:[93m24[0m - [91merror[0m[90m TS18048: [0m'currentKey' is possibly 'undefined'.

[7m894[0m       const keyWords = currentKey.split(" ");
[7m   [0m [91m                       ~~~~~~~~~~[0m

[96msrc/ContentGenerator.ts[0m:[93m896[0m:[93m21[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m896[0m       keyWords.push(next);
[7m   [0m [91m                    ~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m190[0m:[93m52[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m190[0m       logger.error(`Error updating NPC ${npcId}:`, error);
[7m   [0m [91m                                                   ~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m193[0m:[93m31[0m - [91merror[0m[90m TS18046: [0m'error' is of type 'unknown'.

[7m193[0m         data: { npcId, error: error.message },
[7m   [0m [91m                              ~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m245[0m:[93m49[0m - [91merror[0m[90m TS2304: [0mCannot find name 'b'.

[7m245[0m       npc.behaviorState.memory.sort((_a, _b) => b.importance - a.importance);
[7m   [0m [91m                                                ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m245[0m:[93m64[0m - [91merror[0m[90m TS2304: [0mCannot find name 'a'.

[7m245[0m       npc.behaviorState.memory.sort((_a, _b) => b.importance - a.importance);
[7m   [0m [91m                                                               ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m300[0m:[93m36[0m - [91merror[0m[90m TS2304: [0mCannot find name 'b'.

[7m300[0m       activeGoals.sort((_a, _b) => b.priority - a.priority);
[7m   [0m [91m                                   ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m300[0m:[93m49[0m - [91merror[0m[90m TS2304: [0mCannot find name 'a'.

[7m300[0m       activeGoals.sort((_a, _b) => b.priority - a.priority);
[7m   [0m [91m                                                ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m301[0m:[93m39[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m301[0m       npc.behaviorState.currentGoal = activeGoals[0].id;
[7m   [0m [91m                                      ~~~~~~~~~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m328[0m:[93m36[0m - [91merror[0m[90m TS2304: [0mCannot find name 'b'.

[7m328[0m     scoredActions.sort((_a, _b) => b.score - a.score);
[7m   [0m [91m                                   ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m328[0m:[93m46[0m - [91merror[0m[90m TS2304: [0mCannot find name 'a'.

[7m328[0m     scoredActions.sort((_a, _b) => b.score - a.score);
[7m   [0m [91m                                             ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m332[0m:[93m59[0m - [91merror[0m[90m TS2304: [0mCannot find name 'sum'.

[7m332[0m     const totalScore = topActions.reduce((_sum, _item) => sum + item.score, 0);
[7m   [0m [91m                                                          ~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m332[0m:[93m65[0m - [91merror[0m[90m TS2304: [0mCannot find name 'item'.

[7m332[0m     const totalScore = topActions.reduce((_sum, _item) => sum + item.score, 0);
[7m   [0m [91m                                                                ~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m424[0m:[93m78[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m424[0m       logger.error(`Error executing action ${action.id} for NPC ${npc.id}:`, error);
[7m   [0m [91m                                                                             ~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m513[0m:[93m36[0m - [91merror[0m[90m TS2304: [0mCannot find name 'a'.

[7m513[0m           threats.sort((_a, _b) => a.distance - b.distance);
[7m   [0m [91m                                   ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m513[0m:[93m49[0m - [91merror[0m[90m TS2304: [0mCannot find name 'b'.

[7m513[0m           threats.sort((_a, _b) => a.distance - b.distance);
[7m   [0m [91m                                                ~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m523[0m:[93m40[0m - [91merror[0m[90m TS18048: [0m'target' is possibly 'undefined'.

[7m523[0m               ? `${npc.name} attacks ${target.id} for ${damage} damage!`
[7m   [0m [91m                                       ~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m524[0m:[93m39[0m - [91merror[0m[90m TS18048: [0m'target' is possibly 'undefined'.

[7m524[0m               : `${npc.name} misses ${target.id}!`,
[7m   [0m [91m                                      ~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m525[0m:[93m55[0m - [91merror[0m[90m TS18048: [0m'target' is possibly 'undefined'.

[7m525[0m             effects: hit ? [{ type: "damage", target: target.id, value: damage }] : [],
[7m   [0m [91m                                                      ~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m588[0m:[93m31[0m - [91merror[0m[90m TS2304: [0mCannot find name 'listener'.

[7m588[0m     this.changeListeners.push(listener);
[7m   [0m [91m                              ~~~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m592[0m:[93m48[0m - [91merror[0m[90m TS2304: [0mCannot find name 'listener'.

[7m592[0m     const index = this.changeListeners.indexOf(listener);
[7m   [0m [91m                                               ~~~~~~~~[0m

[96msrc/NPCBehaviorSystem.ts[0m:[93m603[0m:[93m56[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m603[0m         logger.error("Behavior event listener error:", error);
[7m   [0m [91m                                                       ~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m7[0m:[93m63[0m - [91merror[0m[90m TS2307: [0mCannot find module '@vtt/monster-ai' or its corresponding type declarations.

[7m7[0m import { MonsterPersonalityTraits, TacticalPreferences } from "@vtt/monster-ai";
[7m [0m [91m                                                              ~~~~~~~~~~~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m8[0m:[93m44[0m - [91merror[0m[90m TS2307: [0mCannot find module '@vtt/content-creation/ProceduralGenerators' or its corresponding type declarations.

[7m8[0m import { PerlinNoise, NameGenerator } from "@vtt/content-creation/ProceduralGenerators";
[7m [0m [91m                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m9[0m:[93m10[0m - [91merror[0m[90m TS2724: [0m'"@vtt/core/EventBus"' has no exported member named 'globalEventBus'. Did you mean '_globalEventBus'?

[7m9[0m import { globalEventBus, AIEvents } from "@vtt/core/EventBus";
[7m [0m [91m         ~~~~~~~~~~~~~~[0m

  [96m../core/src/EventBus.ts[0m:[93m434[0m:[93m8[0m
    [7m434[0m     });
    [7m   [0m [96m       [0m
    [7m435[0m   }
    [7m   [0m [96m~~~[0m
    [7m...[0m 
    [7m437[0m 
    [7m   [0m [96m[0m
    [7m438[0m // Global event bus instance
    [7m   [0m [96m~~~~~~~[0m
    '_globalEventBus' is declared here.

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m9[0m:[93m26[0m - [91merror[0m[90m TS2724: [0m'"@vtt/core/EventBus"' has no exported member named 'AIEvents'. Did you mean 'AIEvent'?

[7m9[0m import { globalEventBus, AIEvents } from "@vtt/core/EventBus";
[7m [0m [91m                         ~~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m9[0m:[93m42[0m - [91merror[0m[90m TS6059: [0mFile '/home/weningerii/vtt/packages/core/src/EventBus.ts' is not under 'rootDir' '/home/weningerii/vtt/packages/ai/src'. 'rootDir' is expected to contain all source files.

[7m9[0m import { globalEventBus, AIEvents } from "@vtt/core/EventBus";
[7m [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m9[0m:[93m42[0m - [91merror[0m[90m TS6307: [0mFile '/home/weningerii/vtt/packages/core/src/EventBus.ts' is not listed within the file list of project '/home/weningerii/vtt/packages/ai/tsconfig.json'. Projects must list all files or use an 'include' pattern.

[7m9[0m import { globalEventBus, AIEvents } from "@vtt/core/EventBus";
[7m [0m [91m                                         ~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m253[0m:[93m38[0m - [91merror[0m[90m TS2304: [0mCannot find name 'b'.

[7m253[0m     scoredTemplates.sort((_a, _b) => b.score - a.score);
[7m   [0m [91m                                     ~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m253[0m:[93m48[0m - [91merror[0m[90m TS2304: [0mCannot find name 'a'.

[7m253[0m     scoredTemplates.sort((_a, _b) => b.score - a.score);
[7m   [0m [91m                                               ~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m397[0m:[93m22[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ id: string; name: string; trigger: string; action: string; parameters: { damage_bonus: number; defense_penalty: number; }; }' is not assignable to parameter of type 'never'.

[7m397[0m       behaviors.push({
[7m   [0m [91m                     ~[0m
[7m398[0m         id: "berserker_rage",
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m402[0m         parameters: { damage_bonus: 2, defense_penalty: -2 },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m403[0m       });
[7m   [0m [91m~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m408[0m:[93m22[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ id: string; name: string; trigger: string; action: string; parameters: { bonus_per_ally: number; max_bonus: number; }; }' is not assignable to parameter of type 'never'.

[7m408[0m       behaviors.push({
[7m   [0m [91m                     ~[0m
[7m409[0m         id: "pack_tactics",
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m413[0m         parameters: { bonus_per_ally: 1, max_bonus: 3 },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m414[0m       });
[7m   [0m [91m~~~~~~~[0m

[96msrc/ProceduralBehaviorGenerator.ts[0m:[93m419[0m:[93m22[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ id: string; name: string; trigger: string; action: string; parameters: { smoke_screen: boolean; caltrops: boolean; }; }' is not assignable to parameter of type 'never'.

[7m419[0m       behaviors.push({
[7m   [0m [91m                     ~[0m
[7m420[0m         id: "cunning_retreat",
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m...[0m 
[7m424[0m         parameters: { smoke_screen: true, caltrops: true },
[7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[7m425[0m       });
[7m   [0m [91m~~~~~~~[0m

[96msrc/TypeSafeDynamicNPCManager.ts[0m:[93m332[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m332[0m       action,
[7m   [0m [91m      ~~~~~~[0m

  [96msrc/types/AIIntegration.ts[0m:[93m34[0m:[93m3[0m
    [7m34[0m   action: string;
    [7m  [0m [96m  ~~~~~~[0m
    The expected type comes from property 'action' which is declared here on type 'GeneratedBehavior'

[96msrc/TypeSafeDynamicNPCManager.ts[0m:[93m344[0m:[93m13[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m344[0m     return [responses[Math.floor(Math.random() * responses.length)]];
[7m   [0m [91m            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m82[0m:[93m11[0m - [91merror[0m[90m TS2564: [0mProperty 'providerRegistry' has no initializer and is not definitely assigned in the constructor.

[7m82[0m   private providerRegistry: ProductionProviderRegistry;
[7m  [0m [91m          ~~~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m83[0m:[93m11[0m - [91merror[0m[90m TS2564: [0mProperty 'providerRouter' has no initializer and is not definitely assigned in the constructor.

[7m83[0m   private providerRouter: IntelligentProviderRouter;
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m84[0m:[93m11[0m - [91merror[0m[90m TS2564: [0mProperty 'aiContentCache' has no initializer and is not definitely assigned in the constructor.

[7m84[0m   private aiContentCache: AIContentCache;
[7m  [0m [91m          ~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m85[0m:[93m11[0m - [91merror[0m[90m TS2564: [0mProperty 'dynamicNPCManager' has no initializer and is not definitely assigned in the constructor.

[7m85[0m   private dynamicNPCManager: DynamicNPCManager;
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m86[0m:[93m11[0m - [91merror[0m[90m TS2564: [0mProperty 'visionAIIntegration' has no initializer and is not definitely assigned in the constructor.

[7m86[0m   private visionAIIntegration: VisionAIIntegration;
[7m  [0m [91m          ~~~~~~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m151[0m:[93m63[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m151[0m       logger.error('Failed to initialize Unified AI System:', error);
[7m   [0m [91m                                                              ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m169[0m:[93m54[0m - [91merror[0m[90m TS2551: [0mProperty 'getCampaignContext' does not exist on type 'CampaignAssistant'. Did you mean 'setCampaignContext'?

[7m169[0m       const campaignContext = this.campaignAssistant.getCampaignContext?.(campaignId);
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~~~~[0m

  [96msrc/campaign/CampaignAssistant.ts[0m:[93m361[0m:[93m3[0m
    [7m361[0m   setCampaignContext(context: CampaignContext): void {
    [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~[0m
    'setCampaignContext' is declared here.

[96msrc/UnifiedAISystem.ts[0m:[93m196[0m:[93m67[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m196[0m       logger.error(`Error generating NPC behavior for ${npcId}:`, error);
[7m   [0m [91m                                                                  ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m238[0m:[93m58[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m238[0m       logger.error(`Error analyzing token ${entityId}:`, error);
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m258[0m:[93m54[0m - [91merror[0m[90m TS2551: [0mProperty 'getCampaignContext' does not exist on type 'CampaignAssistant'. Did you mean 'setCampaignContext'?

[7m258[0m       const campaignContext = this.campaignAssistant.getCampaignContext?.(campaignId);
[7m   [0m [91m                                                     ~~~~~~~~~~~~~~~~~~[0m

  [96msrc/campaign/CampaignAssistant.ts[0m:[93m361[0m:[93m3[0m
    [7m361[0m   setCampaignContext(context: CampaignContext): void {
    [7m   [0m [96m  ~~~~~~~~~~~~~~~~~~[0m
    'setCampaignContext' is declared here.

[96msrc/UnifiedAISystem.ts[0m:[93m272[0m:[93m51[0m - [91merror[0m[90m TS2339: [0mProperty 'processPlayerInteraction' does not exist on type 'DynamicNPCManager'.

[7m272[0m       const result = await this.dynamicNPCManager.processPlayerInteraction(
[7m   [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m295[0m:[93m77[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m295[0m       logger.error(`Error processing player interaction for NPC ${npcId}:`, error);
[7m   [0m [91m                                                                            ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m347[0m:[93m74[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m347[0m       logger.error(`Error generating scene description for ${sceneId}:`, error);
[7m   [0m [91m                                                                         ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m358[0m:[93m7[0m - [91merror[0m[90m TS2741: [0mProperty 'costSaved' is missing in type 'CacheAnalytics' but required in type '{ totalRequests: number; hitRate: number; tokensSaved: number; costSaved: number; }'.

[7m358[0m       cache: this.aiContentCache.getAnalytics(),
[7m   [0m [91m      ~~~~~[0m

  [96msrc/UnifiedAISystem.ts[0m:[93m60[0m:[93m5[0m
    [7m60[0m     costSaved: number;
    [7m  [0m [96m    ~~~~~~~~~[0m
    'costSaved' is declared here.
  [96msrc/UnifiedAISystem.ts[0m:[93m56[0m:[93m3[0m
    [7m56[0m   cache: {
    [7m  [0m [96m  ~~~~~[0m
    The expected type comes from property 'cache' which is declared here on type 'AISystemMetrics'

[96msrc/UnifiedAISystem.ts[0m:[93m360[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'Record<string, { status: string; lastCheck: number; }>' is not assignable to type 'Record<string, string>'.
  'string' index signatures are incompatible.
    Type '{ status: string; lastCheck: number; }' is not assignable to type 'string'.

[7m360[0m         healthStatus: this.providerRouter.getHealthStatus(),
[7m   [0m [91m        ~~~~~~~~~~~~[0m

  [96msrc/UnifiedAISystem.ts[0m:[93m63[0m:[93m5[0m
    [7m63[0m     healthStatus: Record<string, string>;
    [7m  [0m [96m    ~~~~~~~~~~~~[0m
    The expected type comes from property 'healthStatus' which is declared here on type '{ healthStatus: Record<string, string>; totalRequests: number; failoverEvents: number; }'

[96msrc/UnifiedAISystem.ts[0m:[93m395[0m:[93m62[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m395[0m       logger.error('Error during performance optimization:', error);
[7m   [0m [91m                                                             ~~~~~[0m

[96msrc/UnifiedAISystem.ts[0m:[93m613[0m:[93m26[0m - [91merror[0m[90m TS2339: [0mProperty 'dispose' does not exist on type 'AIContentCache'.

[7m613[0m     this.aiContentCache?.dispose();
[7m   [0m [91m                         ~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m2[0m:[93m51[0m - [91merror[0m[90m TS6059: [0mFile '/home/weningerii/vtt/packages/core-ecs/src/components/Vision.ts' is not under 'rootDir' '/home/weningerii/vtt/packages/ai/src'. 'rootDir' is expected to contain all source files.
  The file is in the program because:
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/VisionAIIntegration.ts'
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/UnifiedAISystem.ts'
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/examples/integrated-ai-usage.ts'

[7m2[0m import { VisionStore, VisionData, EntityId } from '@vtt/core-ecs/components/Vision';
[7m [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  [96msrc/UnifiedAISystem.ts[0m:[93m8[0m:[93m39[0m
    [7m8[0m import { VisionStore, EntityId } from '@vtt/core-ecs/components/Vision';
    [7m [0m [96m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/examples/integrated-ai-usage.ts[0m:[93m13[0m:[93m29[0m
    [7m13[0m import { VisionStore } from '@vtt/core-ecs/components/Vision';
    [7m  [0m [96m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.

[96msrc/VisionAIIntegration.ts[0m:[93m2[0m:[93m51[0m - [91merror[0m[90m TS6307: [0mFile '/home/weningerii/vtt/packages/core-ecs/src/components/Vision.ts' is not listed within the file list of project '/home/weningerii/vtt/packages/ai/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  The file is in the program because:
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/VisionAIIntegration.ts'
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/UnifiedAISystem.ts'
    Imported via '@vtt/core-ecs/components/Vision' from file '/home/weningerii/vtt/packages/ai/src/examples/integrated-ai-usage.ts'

[7m2[0m import { VisionStore, VisionData, EntityId } from '@vtt/core-ecs/components/Vision';
[7m [0m [91m                                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

  [96msrc/UnifiedAISystem.ts[0m:[93m8[0m:[93m39[0m
    [7m8[0m import { VisionStore, EntityId } from '@vtt/core-ecs/components/Vision';
    [7m [0m [96m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.
  [96msrc/examples/integrated-ai-usage.ts[0m:[93m13[0m:[93m29[0m
    [7m13[0m import { VisionStore } from '@vtt/core-ecs/components/Vision';
    [7m  [0m [96m                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    File is included via import here.

[96msrc/VisionAIIntegration.ts[0m:[93m109[0m:[93m30[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m109[0m       const response = await this.config.aiProvider.analyzeImage({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m109[0m:[93m30[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

[7m109[0m       const response = await this.config.aiProvider.analyzeImage({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m110[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'string | ArrayBuffer' is not assignable to type 'ImageDataRef'.
  Type 'string' is not assignable to type 'ImageDataRef'.

[7m110[0m         image: imageData,
[7m   [0m [91m        ~~~~~[0m

  [96msrc/types.ts[0m:[93m199[0m:[93m3[0m
    [7m199[0m   image: ImageDataRef;
    [7m   [0m [96m  ~~~~~[0m
    The expected type comes from property 'image' which is declared here on type 'ImageAnalysisRequest'

[96msrc/VisionAIIntegration.ts[0m:[93m118[0m:[93m20[0m - [91merror[0m[90m TS2339: [0mProperty 'success' does not exist on type 'ImageAnalysisResult'.

[7m118[0m       if (response.success && response.analysis) {
[7m   [0m [91m                   ~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m141[0m:[93m58[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m141[0m       logger.error(`Error analyzing token ${entityId}:`, error);
[7m   [0m [91m                                                         ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m171[0m:[93m30[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m171[0m       const response = await this.config.aiProvider.analyzeImage({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m171[0m:[93m30[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

[7m171[0m       const response = await this.config.aiProvider.analyzeImage({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m172[0m:[93m9[0m - [91merror[0m[90m TS2322: [0mType 'string | ArrayBuffer' is not assignable to type 'ImageDataRef'.
  Type 'string' is not assignable to type 'ImageDataRef'.

[7m172[0m         image: imageData,
[7m   [0m [91m        ~~~~~[0m

  [96msrc/types.ts[0m:[93m199[0m:[93m3[0m
    [7m199[0m   image: ImageDataRef;
    [7m   [0m [96m  ~~~~~[0m
    The expected type comes from property 'image' which is declared here on type 'ImageAnalysisRequest'

[96msrc/VisionAIIntegration.ts[0m:[93m178[0m:[93m20[0m - [91merror[0m[90m TS2339: [0mProperty 'success' does not exist on type 'ImageAnalysisResult'.

[7m178[0m       if (response.success && response.analysis) {
[7m   [0m [91m                   ~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m198[0m:[93m55[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m198[0m       logger.error(`Error analyzing map ${sceneId}:`, error);
[7m   [0m [91m                                                      ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m249[0m:[93m15[0m - [91merror[0m[90m TS2375: [0mType '{ observerId: number; targetId: number; eventType: "spotted"; timestamp: number; analysis: TokenAnalysis | undefined; confidence: number; }' is not assignable to type 'VisionEvent' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'analysis' are incompatible.
    Type 'TokenAnalysis | undefined' is not assignable to type 'TokenAnalysis'.
      Type 'undefined' is not assignable to type 'TokenAnalysis'.

[7m249[0m         const event: VisionEvent = {
[7m   [0m [91m              ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m340[0m:[93m30[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m340[0m       const response = await this.config.aiProvider.generateText({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m340[0m:[93m30[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

[7m340[0m       const response = await this.config.aiProvider.generateText({
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m347[0m:[93m20[0m - [91merror[0m[90m TS2339: [0mProperty 'success' does not exist on type 'TextGenerationResult'.

[7m347[0m       if (response.success && response.text) {
[7m   [0m [91m                   ~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m351[0m:[93m60[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m351[0m       logger.error('Error generating vision description:', error);
[7m   [0m [91m                                                           ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m445[0m:[93m54[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m445[0m       logger.warn('Failed to parse token analysis:', error);
[7m   [0m [91m                                                     ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m463[0m:[93m52[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Record<string, any> | undefined'.

[7m463[0m       logger.warn('Failed to parse map analysis:', error);
[7m   [0m [91m                                                   ~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m541[0m:[93m57[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m541[0m     if (observer.darkvisionRange > 0) capabilities.push(`darkvision (${observer.darkvisionRange} units)`);
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m542[0m:[93m56[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m542[0m     if (observer.truesightRange > 0) capabilities.push(`truesight (${observer.truesightRange} units)`);
[7m   [0m [91m                                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/VisionAIIntegration.ts[0m:[93m543[0m:[93m57[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'never'.

[7m543[0m     if (observer.blindsightRange > 0) capabilities.push(`blindsight (${observer.blindsightRange} units)`);
[7m   [0m [91m                                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/examples/integrated-ai-usage.ts[0m:[93m291[0m:[93m20[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m291[0m     return match ? match[1].trim() : null;
[7m   [0m [91m                   ~~~~~~~~[0m

[96msrc/examples/production-ready-demo.ts[0m:[93m104[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.

[7m104[0m     return descriptions[Math.floor(Math.random() * descriptions.length)];
[7m   [0m [91m    ~~~~~~[0m

[96msrc/examples/production-ready-demo.ts[0m:[93m148[0m:[93m20[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m148[0m     return match ? match[1] : null;
[7m   [0m [91m                   ~~~~~~~~[0m

[96msrc/examples/production-ready-demo.ts[0m:[93m153[0m:[93m20[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

[7m153[0m     return match ? match[1].trim() : null;
[7m   [0m [91m                   ~~~~~~~~[0m

[96msrc/examples/production-ready-demo.ts[0m:[93m164[0m:[93m20[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.

[7m164[0m     return match ? match[1] : null;
[7m   [0m [91m                   ~~~~~~~~[0m

[96msrc/index.ts[0m:[93m16[0m:[93m1[0m - [91merror[0m[90m TS2308: [0mModule './providers/RealProviders' has already exported a member named 'OpenAIProvider'. Consider explicitly re-exporting to resolve the ambiguity.

[7m16[0m export * from './providers/openai';
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/index.ts[0m:[93m17[0m:[93m1[0m - [91merror[0m[90m TS2308: [0mModule './providers/RealProviders' has already exported a member named 'AnthropicProvider'. Consider explicitly re-exporting to resolve the ambiguity.

[7m17[0m export * from './providers/anthropic';
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/index.ts[0m:[93m59[0m:[93m1[0m - [91merror[0m[90m TS2308: [0mModule './NPCBehaviorSystem' has already exported a member named 'ActionResult'. Consider explicitly re-exporting to resolve the ambiguity.

[7m59[0m export * from './types/AIIntegration';
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/index.ts[0m:[93m59[0m:[93m1[0m - [91merror[0m[90m TS2308: [0mModule './types' has already exported a member named 'ProviderMetrics'. Consider explicitly re-exporting to resolve the ambiguity.

[7m59[0m export * from './types/AIIntegration';
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m5[0m:[93m10[0m - [91merror[0m[90m TS2305: [0mModule '"../index"' has no exported member 'AIBehaviorEngine'.

[7m5[0m import { AIBehaviorEngine, NPCPersonality, NPCGoal, BehaviorTreeNode } from "../index";
[7m [0m [91m         ~~~~~~~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m5[0m:[93m53[0m - [91merror[0m[90m TS2724: [0m'"../index"' has no exported member named 'BehaviorTreeNode'. Did you mean 'BehaviorNode'?

[7m5[0m import { AIBehaviorEngine, NPCPersonality, NPCGoal, BehaviorTreeNode } from "../index";
[7m [0m [91m                                                    ~~~~~~~~~~~~~~~~[0m

  [96msrc/BehaviorTree.ts[0m:[93m22[0m:[93m22[0m
    [7m22[0m export abstract class BehaviorNode {
    [7m  [0m [96m                     ~~~~~~~~~~~~[0m
    'BehaviorNode' is declared here.

[96msrc/npc/AIEntity.ts[0m:[93m112[0m:[93m43[0m - [91merror[0m[90m TS2339: [0mProperty 'aggression' does not exist on type 'NPCPersonality'.

[7m112[0m       if (enemy && this.state.personality.aggression > 0.5) {
[7m   [0m [91m                                          ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m123[0m:[93m17[0m - [91merror[0m[90m TS2693: [0m'Record' only refers to a type, but is being used as a value here.

[7m123[0m           data: Record<string, any>,
[7m   [0m [91m                ~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m133[0m:[93m13[0m - [91merror[0m[90m TS2693: [0m'Record' only refers to a type, but is being used as a value here.

[7m133[0m       data: Record<string, any>,
[7m   [0m [91m            ~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m143[0m:[93m22[0m - [91merror[0m[90m TS2322: [0mType '"defend"' is not assignable to type '"exploration" | "survival" | "combat" | "social" | "protection" | "acquisition"'.

[7m143[0m       this.setGoal({ type: "defend", priority: 10, target: "self" });
[7m   [0m [91m                     ~~~~[0m

  [96msrc/NPCBehaviorSystem.ts[0m:[93m27[0m:[93m3[0m
    [7m27[0m   type: "survival" | "combat" | "social" | "exploration" | "protection" | "acquisition";
    [7m  [0m [96m  ~~~~[0m
    The expected type comes from property 'type' which is declared here on type 'NPCGoal'

[96msrc/npc/AIEntity.ts[0m:[93m145[0m:[93m22[0m - [91merror[0m[90m TS2322: [0mType '"support"' is not assignable to type '"exploration" | "survival" | "combat" | "social" | "protection" | "acquisition"'.

[7m145[0m       this.setGoal({ type: "support", priority: 8, target: "self" });
[7m   [0m [91m                     ~~~~[0m

  [96msrc/NPCBehaviorSystem.ts[0m:[93m27[0m:[93m3[0m
    [7m27[0m   type: "survival" | "combat" | "social" | "exploration" | "protection" | "acquisition";
    [7m  [0m [96m  ~~~~[0m
    The expected type comes from property 'type' which is declared here on type 'NPCGoal'

[96msrc/npc/AIEntity.ts[0m:[93m260[0m:[93m63[0m - [91merror[0m[90m TS2339: [0mProperty 'aggression' does not exist on type 'NPCPersonality'.

[7m260[0m     const aggressionBonus = Math.floor(this.state.personality.aggression * 4);
[7m   [0m [91m                                                              ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m341[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'aggression' does not exist in type 'NPCPersonality'.

[7m341[0m       aggression: 0.6,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m350[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'aggression' does not exist in type 'NPCPersonality'.

[7m350[0m       aggression: 0.9,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m359[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'aggression' does not exist in type 'NPCPersonality'.

[7m359[0m       aggression: 0.3,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m368[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'aggression' does not exist in type 'NPCPersonality'.

[7m368[0m       aggression: 0.2,
[7m   [0m [91m      ~~~~~~~~~~[0m

[96msrc/npc/AIEntity.ts[0m:[93m377[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'aggression' does not exist in type 'NPCPersonality'.

[7m377[0m       aggression: Math.random(),
[7m   [0m [91m      ~~~~~~~~~~[0m


Found 126 errors.

[41m[30m ELIFECYCLE [39m[49m [31mCommand failed with exit code 1.[39m
[43m[30m WARN [39m[49m  Local package.json exists, but node_modules missing, did you mean to install?
